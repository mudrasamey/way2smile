// phpcs:ignoreFile
document.addEventListener("DOMContentLoaded",()=>{function s(t){t.getAttribute("data-button")!=="true"&&(this.el=t,this.el.setAttribute("data-button","true"),this.dismissButton=this.el.querySelector("[data-button-dismiss]"),this.keyboardFocused=!1,this.el.addEventListener("click",this.clickEvent.bind(this)),this.el.addEventListener("focusin",this.focusinEvent.bind(this)),this.el.addEventListener("focusout",this.focusoutEvent.bind(this)),document.addEventListener("mousedown",this.mousedownEvent.bind(this)),document.addEventListener("keydown",this.keydownEvent.bind(this)),this.dismissButton&&this.dismissButton.addEventListener("click",this.dismissClickEvent.bind(this)))}s.prototype.clickEvent=function(t){if(/input/i.test(t.target.tagName)){let e=!1;const i=t.target;if(i.getAttribute("type")==="checkbox")e=i.getAttribute("checked");else if(i.getAttribute("type")==="radio"){const c=i.getAttribute("name"),n=document.querySelectorAll(`input[type=radio][name="${c}"]`);for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&n[o]!==i&&this.setChecked(n[o],!1)}else return;this.setChecked(i,!e)}},s.prototype.keydownEvent=function(t){t.key&&(t.key==="Tab"||t.key.indexOf("Arrow")===0)&&(this.keyboardFocused=!0)},s.prototype.mousedownEvent=function(){this.keyboardFocused=!1},s.prototype.setChecked=function(t,e){const i=this.findButton(t);i&&!i.hasAttribute("disabled")&&(e?(t.setAttribute("checked","checked"),i.classList.add("active")):(t.removeAttribute("checked"),i.classList.remove("active")))},s.prototype.focusinEvent=function(t){const e=this.findButton(t.target);e&&!e.hasAttribute("disabled")&&this.keyboardFocused&&e.classList.add("focus")},s.prototype.focusoutEvent=function(t){const e=this.findButton(t.target);e&&e.classList.remove("focus")},s.prototype.dismissClickEvent=function(t){const e=this.findButton(t.target);e&&(e.remove(),this.el.dispatchEvent(new CustomEvent("ct.button.dismiss",{bubbles:!0})))},s.prototype.findButton=function(t){return t.classList.contains("ct-button")?t:t.closest(".ct-button")},document.querySelectorAll(".ct-button").forEach(t=>{new s(t)})});
